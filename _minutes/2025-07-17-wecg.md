# WECG Meetings 2025, Public Notes, Jul 17

 * Chair: Kiara Rose
 * Scribes: Rob Wu

Time: 8 AM PDT = https://everytimezone.com/?t=68798e80,384
Call-in details: [WebExtensions CG, 17th July 2025](https://www.w3.org/events/meetings/43e4fb8e-4736-445c-b051-2383ffeef033/20250731T080000/)
Zoom issues? Ping @zombie (Tomislav Jovanovic) in [chat](https://github.com/w3c/webextensions/blob/main/CONTRIBUTING.md#joining-chat)


## Agenda: [discussion in #846](https://github.com/w3c/webextensions/issues/846), [github issues](https://github.com/w3c/webextensions/issues)

The meeting will start at 3 minutes after the hour.

See [issue 531](https://github.com/w3c/webextensions/issues/531) for an explanation of this agenda format.

 * **Announcements** (2 minutes)
 * **Triage** (15 minutes)
   * [Issue 847](https://github.com/w3c/webextensions/issues/847): Proposal: Add Root BookmarkTreeNode ID
   * [Issue 848](https://github.com/w3c/webextensions/issues/848): Proposal: Allow Document Picture-in-Picture from Offscreen Documents in WebExtensions
   * [Issue 849](https://github.com/w3c/webextensions/issues/849): Inconsistency: native messaging size limit
   * [Issue 850](https://github.com/w3c/webextensions/issues/850): Extend chrome.tabs.captureVisibleTab() API with rect parameter
   * [Issue 851](https://github.com/w3c/webextensions/issues/851): Discussion: sender.url for Service Worker Senders
 * **Timely issues** (10 minutes)
   * [PR 852](https://github.com/w3c/webextensions/pull/852): Proposal: browser.test API
 * **Check-in on existing issues** (20 minutes)
   * None


## Attendees (sign yourself in)

 1. Rob Wu (Mozilla)
 2. Kiara Rose (Apple)
 3. David Johnson (Apple)
 4. Casey Garland (Capital One)
 5. Tomislav Jovanovic (Mozilla)
 6. Mukul Purohit (Microsoft)
 7. Carlos Jeurissen (Jeurissen Apps)
 8. Simeon Vincent (Mozilla)
 9. Tomislav Jovanovic (Mozilla)
 10. Timothy Hatcher (Apple)


## Meeting notes

FYI: No Googlers are attending this meeting today.

[Issue 847](https://github.com/w3c/webextensions/issues/847): Proposal: Add Root BookmarkTreeNode ID

 * [kiara] Request to add a property that returns the root node, independently of the internal name for it.
 * [kiara] Safari is supportive.
 * [rob] Firefox is supportive too.
 * [rob] Is there a guarantee of there being one root? E.g. I recall Chrome working on syncable bookmarks ([issue 733](https://github.com/w3c/webextensions/issues/733)). I can imagine this to result in the existence of multiple roots.
 * [timothy] What would bookmarks.getTree() return with multiple roots?

[Issue 848](https://github.com/w3c/webextensions/issues/848): Proposal: Allow Document Picture-in-Picture from Offscreen Documents in WebExtensions

 * [timothy] We don't support offscreen documents, willing to accept background.
 * [rob] We don't support offscreen documents either. Sounds like functionality that could be gated by a user interaction requirement, but on the other hand, extensions can already open many windows.
 * [tomislav] Wonder why the extension author cannot open a tab and call the functionality from there.
 * [timothy] I imagine the use case is to have some floating panel that sticks around while the user browses the web.
 * [rob] There is `browser.windows.create({type:”panel”})` (or “popup”) that opens an always-on-top window in Firefox.
 * [tomislav] Firefox does not implement this API, and Mozilla does not even have a standards-position on this web API.
 * [timothy] Not sure if we have an implementation in Safari either.
 * [rob] I cannot find requestWindow in Safari: https://searchfox.org/wubkat/search?q=requestWindow&path=&case=false&regexp=false
 * [tomislav] This seems like a premature item for our group considering that it is only implemented in Chrome.

[Issue 849](https://github.com/w3c/webextensions/issues/849): Inconsistency: native messaging size limit

 * [simeon] When I saw this I was curious and tried looking up the limits in the sources.
 * [rob] Chrome has a hard-coded 64 MB limit; Firefox does not put a hard limit beyond what fits in the messaging protocol (the message length is a 32-bit integer, i.e. max 4 GB). In practice, the limits are implementation/system-dependent, IPC limits, memory, etc.
 * [kiara] Safari does not enforce a separate limit other than system limits.
 * [rob] The other “limit” is the 1 MB limit (received from native messaging host) which is relatively low. Open to consider discussions for different limits.
 * [kiara] Curious about Chrome's perspective, but they are not here so let's revisit next time.

[Issue 850](https://github.com/w3c/webextensions/issues/850): Extend chrome.tabs.captureVisibleTab() API with rect parameter

 * [kiara] We'd be supportive of doing this in Safari.
 * [tom] Yes, we already implemented this in Firefox for the purposes of the Screenshots feature (which was previously implemented as an extension).

[Issue 851](https://github.com/w3c/webextensions/issues/851): Discussion: sender.url for Service Worker Senders

 * [timothy] I believe Safari's implementation likely matches Chrome here, but Firefox's implementation is more ideal
 * [rob] Before this meeting, I already responded on the issue with Firefox's position (supportive & implemented). Chrome has already landed a patch to implement this too.
 * [kiara] I will file an issue on our end.

[PR 852](https://github.com/w3c/webextensions/pull/852): Proposal: browser.test API

 * [tomislav] I only moved assertions and runTests because these run in the extension context, not the wpt context. The test messages are still in the WPT repo. This already went through reviews with approvals in the WPT repo before. Just needs rubber stamp approvals.
 * [rob] I'll look at it from Firefox's perspective.
 * [kiara] I approved yesterday.
 * [kiara] Why does the documentation for this proposal not contain the onTestStarted/onTestFinished listeners?
 * [tom] Since those aren't happening in the extension's context, I left them out. But open to moving them here.
 * [rob] On the one hand, the WPT repo contains the tests. On the other hand, the browser vendors developing extension APIs are in this group, and any change to discuss extension APIs (even if test-only) likely fits better in this group.
 * [tomislav] Okay, I can move that as well.

The next meeting will be on [Thursday, July 31st, 8 AM PDT (3 PM UTC)](https://everytimezone.com/?t=688c0380,384).
