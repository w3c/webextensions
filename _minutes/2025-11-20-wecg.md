# WECG Meetings 2025, Public Notes, Nov 20

 * Chair: Simeon Vincent
 * Scribes: Rob Wu

Time: 8 AM PST = https://everytimezone.com/?t=691fab80,3c0
Call-in details: [WebExtensions CG, 20th November 2025](https://www.w3.org/events/meetings/43e4fb8e-4736-445c-b051-2383ffeef033/20251120T080000/)
Zoom issues? Ping @zombie (Tomislav Jovanovic) in [chat](https://github.com/w3c/webextensions/blob/main/CONTRIBUTING.md#joining-chat)


## Agenda: [discussion in #901](https://github.com/w3c/webextensions/issues/901), [github issues](https://github.com/w3c/webextensions/issues)

The meeting will start at 3 minutes after the hour.

See [issue 531](https://github.com/w3c/webextensions/issues/531) for an explanation of this agenda format.

 * **Announcements** (2 minutes)
   * TPAC 2025 just concluded
 * **Triage** (15 minutes)
   * [Issue 902](https://github.com/w3c/webextensions/issues/902): Proposal: `browser.documents` namespace
   * [Issue 906](https://github.com/w3c/webextensions/issues/906): API inconsistency: Chrome's tabs.insertCSS and scripting.insertCSS for "author" origin inject at the "user" origin position
   * [Issue 907](https://github.com/w3c/webextensions/issues/907): A `window` created by chrome.windows.create() doesn't match the web spec for `window.menubar`
   * [Issue 908](https://github.com/w3c/webextensions/issues/908): [declarativeNetRequest] Ability to redirect web link navigations to a new tab/window
   * [Issue 912](https://github.com/w3c/webextensions/issues/912): A way for `chrome.windows.create()` to set normal position with minimized/maximized windows, used when the user restores the window
 * **Timely issues** (10 minutes)
 * **Check-in on existing issues** (20 minutes)
   * (topics were nominated but overlooked; these moved to the next meeting)


## Attendees (sign yourself in)

 1. Rob Wu (Mozilla)
 2. Giorgio Maone (NoScript, Tor)
 3. Oliver Dunk (Google)
 4. Carlos Jeurissen (Jeurissen Apps)
 5. Simeon Vincent (Mozilla)
 6. Benjamin Bruneau (1Password)
 7. Oleksii Levzhynskyi (Superhuman (ex-Grammarly))
 8. Timothy Hatcher (Apple)
 9. David Johnson (Apple)
 10. Ben Greenberg (Aglide)
 11. Kiara Rose (Apple)
 12. Mukul Purohit (Microsoft)
 13. Krzysztof Modras (Ghostery)


## Meeting notes

TPAC 2025 just concluded

 * [rob] TPAC 2025 just concluded; meeting notes will be edited and published soon, linked from [issue 843](https://github.com/w3c/webextensions/issues/843).
 * [simeon] We covered a number of issues, including WG charter, secure storage.
 * [rob] Also sidebar unification after the official TPAC session, which was productive.
 * [oliver] Tentatively planning end of April 2026 for the next in-person meeting, tentative location is London, hosted by Google.
 * [simeon] Interested in feedback on TPAC, I'll ask at the end of the meeting.

[Issue 902](https://github.com/w3c/webextensions/issues/902): Proposal: `browser.documents` namespace

 * [carlos] Proposing `documents` namespace for interaction with documentId in various APIs. Considering existing proposals like sendMessage to specific documents, getDocumentId, and query documents with documentId.
 * [rob] Have some thoughts here. We have various APIs that provide documentId, so there's not a strict need for this. We've seen that having duplicate functionality across APIs can create issues and confusion, such as contextMenus and menus in Firefox, and userScripts/scripting, and sidepanel/sidebarAction/sidebar. Only content scripts can integrate with documents, this namespace would suggest the background can have more direct control over page content.
 * [timothy] Tend to agree with Rob, specifically about adding another sendMessage, etc., already covered by other messaging APIs. Other querying abilities, maybe, but that can also fit elsewhere.
 * [carlos] Existing PR for tabs.query() with documentId has a discussion - cannot return multiple documents from the API in its design.
 * [timothy] I'd like to see a hierarchical API with bubbling, but that is entirely different from the current APIs.
 * [oliver] One thing that might be addressable here but I worry would add complexity is cases like bfcache and prerendering. They are exposed in existing namespaces. You can only use them in certain contexts. This would start to open questions about what you can access from the query method. Opens complexity around what is/isn't returned.
 * [krzysztof] The timing issues already exist.
 * [oliver] Supportive of adding `documentId` to various APIs, but the request here of adding a new `documents` namespace that would be an entirely new API with behaviors to figure out.
 * [simeon] Appreciate exploration of different API shapes, but also recognize the concerns expressed by Rob.
 * [rob] Right now we have documentId. I've also seen some requests for contextId. We can't introduce new namespaces for each different access pattern.
 * [krzysztof] You mean service workers?
 * [rob] Content scripts, for example. runtime.getContext() API needs to account for different types of contexts retrievable by extensions. Service workers could be another such example.
 * Resolution: Close issue.

[Issue 906](https://github.com/w3c/webextensions/issues/906): API inconsistency: Chrome's tabs.insertCSS and scripting.insertCSS for "author" origin inject at the "user" origin position

 * [carlos] Different style application orders, toph is requesting a consistent order.
 * [timothy] Would be good to align on. Affects how !important overrides work. Would like to align Safari's behavior with other browsers.
 * [rob] MDN documents a specific order for style injection. AFAIK Firefox behaves as documented. Does that match your observations, Carlos?
   * https://developer.mozilla.org/en-US/docs/Web/CSS/Guides/Cascade/Introduction#cascading_order
 * [carlos] I believe so, but not totally sure offhand.
 * [rob] Next steps here seem to be to verify expected behavior and compare against observed results.
 * [timothy] Should also write WPT tests to verify expected behavior.
 * [kiara] Agreed.
 * [oliver] Issue claims that “author” origin puts the stylesheet in the “user” origin; what if “user” is specified?
 * [carlos] “user” is correct; only buggy issue is with “author” origin. Also Chrome does not support `content_scripts` in the manifest.
 * [oliver] I'll take a look to see the issue.
 * [rob] Who will take a look at the next steps? MDN documents specific order for the relationship between user styles, author style, etc. I believe elsewhere we've agreed this should match the order documented there. If there's divergences, those would be tasks for browser vendors to fix.
 * [kiara] I can take a look, to verify the expected behaviors.
 * [rob] Safari only, or also Chrome?
 * [kiara] Also Chrome.

[Issue 907](https://github.com/w3c/webextensions/issues/907): A `window` created by chrome.windows.create() doesn't match the web spec for `window.menubar`

 * [simeon] Carlos, you thumbed up the issue. Do you have some context to speak to the issue?
 * [carlos] Popup created by web page has different behavior vs popup windows created by extension API.
 * [oliver] Issue title sounds Chrome-specific, but Firefox is also mentioned. I believe popup windows created from the extension API are in reality different to the windows created by window.open. I don't know enough about the specifics to know what makes sense, but could follow up. Curious about Rob's thoughts.
 * [rob] Don't know too much about menubar, but it seems to be a legacy API feature. Big question here is what should menubar be in relation to extension APIs.
 * [oliver] Ideally we would be able to spec the behavior in relation to other specifications.
 * [timothy] Looking at Safari's implementation, looks like we create the same type of popup as the general web behavior. That said, not sure what the actual behavior is in practice.
 * [rob] Web-generated popups have restrictions in response to historical abuse. Sometimes we are less strict with extensions APIs.
 * [krzysztof] Popups created by extensions don't show the URL. It's actually problematic if you can't see the domain name.
 * [simeon] I understand the concern. I think the threat model here is a little different in that we aren't worried about the same kind of drive-by hijacks as the general web use case.
 * [timothy] If page is redirected someplace the extension/user does not expect, that is problematic.
 * [rob] Next step here is for Chrome and Firefox to check what the relation between menubar and extension API is.
 * [simeon] Is Chrome amenable to showing the address bar?
 * [oliver] My understanding is that the absence of the urlbar is something that extension devs like. I can take a look.
 * [giorgio] It would be an acceptable option to force the address bar to show when the extension page navigates outside the tab.

[Issue 908](https://github.com/w3c/webextensions/issues/908): [declarativeNetRequest] Ability to redirect web link navigations to a new tab/window

 * [simeon] With webRequest, extensions can cancel navigation and open a new tab or window. In DNR that is not possible. Not totally clear what the use case is here.
 * [krzysztof] Example of use case is to prevent navigation from happening, and navigating to the URL in an incognito window. Another example is to intercept malware page and showing new content.
 * [rob] Typically that's achieved by showing an interstitial in the current page.
 * [krzysztof] Right, that's not opening a new tab/window. That's addressable today with some hacks.
 * [rob] Not opposed to this capability if there's a clear definition of how it should behave, but likely wouldn't drive it. Theoretically, dispatching an event when a DNR rule is matched could enable this.
 * [krzysztof] That breaks the DNR design principle of not exposing redirect information unnecessarily.
 * [rob] The use cases mentioned in the issue typically have host permissions.
 * [oliver] Would definitely be valuable to discuss more use cases in comments on the issue. We're currently looking into exposing the ability to redirect based on mimetype. This use case seems similarly valuable. Will discuss potential API design with Devlin.
 * [krzysztof] Should also consider back/forward navigation, privacy implications. This could
 * [rob] For this use case host permissions would be required. Without new APIs, workaround could be to use webNavigation listeners and DNR block rules to implement something like this. Inefficient, but would work.
 * [rob] Chrome, Safari, would you be willing to consider dispatching an event?
 * [oliver] Probably won't support onRuleMatchedDebug, but willing to explore options.
 * [timothy] Having same reservations. Approaching the territory of recreating webRequest at that point.
 * [simeon] Action items?
 * [rob] Think we need to feel out what browser vendors would be comfortable with here.
 * [oliver] What do you all think of option 4? Adding a new option to open a new tab or window when you do a redirect.
 * [timothy] Would it also support “incognito” as an option?
 * [oliver] Could do.
 * [krzysztof] Would also need to specify incognito so we don't get redirect chains.
 * [rob] Difficult to do. Need to create a new window to avoid leaking between containers in Firefox. Opening in a new tab/window would be preferable on that front.
 * [krzystof] If the extension navigates elsewhere, they can open a new tab, can't they?
 * [rob] For the userscript use case, the expected behavior is to not navigate the current tab, showing an extension-defined dialog.
 * [david] How important is the second part of #4? Setting exact coordinates and size.
 * [rob] Not super important - extension can always resize the window itself after creation. Use case is really opening a dialog. But if we allow extensions to specify the popup type, the ability to set the dimensions seems a natural feature set.
 * [timothy] Would have concerns over having too much detail declared in the DNR rule.
 * [david] Makes sense for open in new window to let that tab/window decide what it wants to do.

[Issue 912](https://github.com/w3c/webextensions/issues/912): A way for `chrome.windows.create()` to set normal position with minimized/maximized windows, used when the user restores the window

 * [simeon] A request to allow extensions to set the position when minimized, along with implementation suggestions. Rob, any context?
 * [rob] On Linux there are complications here. We currently have bugs where we can't determine/specify the exact size on the screen. Would be nice from an extension developer perspective, but if it's not possible to implement this at the OS level.
 * [david] Mac has similar positioning capabilities, but we don't support that on iPad.
 * [timothy] We don't support windows.create() on iOS yet.
 * [david] But even native apps cannot specify position of their windows.
 * [] Why normalPosition?
 * [timothy] Would prefer left/top/right/bottom to do the right thing instead of adding another thing that does something similar as the existing.
 * [simeon] Would be interesting to figure out why this restriction existed historically.
 * [oliver] I can look into it.
 * [simeon] I'll post a comment to ask for motivating use cases.

TPAC

 * [simeon] Feedback on our TPAC participation this year?
 * [oliver] Generally felt it was good.
 * [kiara] At the event we discussed finding the right balance on the number of days/hours we spend in meetings. Previously the full week, this year just 2.
 * [timothy] I think we asked for 4 days, but they weren't able to accommodate.
 * [oliver] was happy with our discussions during bug triage, but in previous meetings we were better at working through more issues. We ended up taking on a few larger discussions.
 * [rob] I think we also had nominations before on what to discuss. Good that when we ask for topics, we revisit the list of topics to see if there's anything else we should consider.
 * [simeon] We had some open slots on Thursday, it was useful because we could follow up to topics that popped up earlier in the week.
 * [timothy] Leaving breathing room in the schedule is definitely helpful.

The next meeting will be on [Thursday, December 4th, 8 AM PST (4 PM UTC)](https://everytimezone.com/?t=69322080,3c0).
